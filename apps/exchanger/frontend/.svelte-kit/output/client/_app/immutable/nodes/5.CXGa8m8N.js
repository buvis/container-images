import{e as R,a as m,f as x,s as b,c as ae,t as wt}from"../chunks/BGC_O7Cu.js";import{i as re}from"../chunks/CxezgJRR.js";import{p as oe,m as l,o as se,l as $,a as le,b as ie,g as t,$ as ne,s as r,d,c as o,r as a,t as k,i as ve,u as n,z as de,f as ce,j as ue,k as fe}from"../chunks/D8SkQY_2.js";import{i as z}from"../chunks/CCe7VU-t.js";import{e as st,i as lt}from"../chunks/BM-OiPN0.js";import{r as me,a as pe}from"../chunks/1CmXKqvd.js";import{b as be}from"../chunks/BKSPwKdY.js";import{s as Ct}from"../chunks/CdEA5IGF.js";import{C as _e,b as xe}from"../chunks/hMDAKPhK.js";import{b as ge,h as he,i as ye}from"../chunks/sCxhiejC.js";import{a as we,b as Ce}from"../chunks/BcTIPSpL.js";var $e=x('<div class="max-w-xl mx-auto"><div class="bg-slate-900 p-8 rounded-xl border border-slate-800 animate-pulse h-64"></div></div>'),ke=x("<option> </option>"),Se=x('<optgroup label="Favorites"></optgroup>'),je=x("<option> </option>"),De=x('<div class="absolute top-full left-0 mt-2 z-50 shadow-xl w-full max-w-sm"><!></div>'),Re=x('<div class="bg-red-900/30 border border-red-800 text-red-400 p-4 rounded-lg"> </div>'),ze=x('<div class="flex items-center justify-between p-4 bg-slate-800 rounded-lg"><div><span class="text-xs text-slate-500 uppercase"> </span> <div class="text-sm text-slate-400"><!></div></div> <div class="text-right"><div class="text-2xl font-bold text-white font-mono"> </div> <div class="text-sm text-slate-500"> </div></div></div>'),Fe=x('<div class="bg-slate-900 p-6 rounded-xl border border-slate-800"><h2 class="text-sm font-medium text-slate-400 mb-4">Results</h2> <div class="space-y-4"></div></div>'),Me=x('<div class="max-w-xl mx-auto space-y-6"><div class="bg-slate-900 p-6 rounded-xl border border-slate-800"><div class="mb-4"><label for="amount" class="block text-sm font-medium text-slate-400 mb-2"> </label> <div class="relative"><input id="amount" type="text" inputmode="decimal" class="w-full px-4 py-3 pr-16 bg-slate-800 border border-slate-700 rounded-lg text-white text-2xl font-mono focus:outline-none focus:border-slate-500"/> <span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 font-mono"> </span></div></div> <div class="flex justify-center mb-4"><button class="p-2 rounded-full bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400 hover:text-white transition-colors" title="Swap direction" aria-label="Swap conversion direction"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M5 12a1 1 0 102 0V6.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L5 6.414V12z"></path><path d="M15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"></path></svg></button></div> <div class="mb-6"><label for="symbol" class="block text-sm font-medium text-slate-400 mb-2">Currency Pair</label> <select id="symbol" class="w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-slate-500"><!><optgroup label="All Symbols"></optgroup></select></div> <div class="mb-6 relative"><label for="date-btn" class="block text-sm font-medium text-slate-400 mb-2">Date</label> <button id="date-btn" type="button" class="w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white text-left flex items-center justify-between focus:outline-none focus:border-slate-500 hover:bg-slate-750 transition-colors"><span> </span> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></button> <!></div> <button class="w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-slate-700 disabled:text-slate-500 text-white font-medium rounded-lg transition-colors"> </button></div> <!></div>'),Pe=x('<div class="bg-slate-950 text-slate-200 p-6"><header class="mb-8"><div class="flex items-center justify-between"><h1 class="text-3xl font-bold text-white">Converter</h1> <a href="/converter/multi" class="text-sm text-slate-400 hover:text-cyan-400 transition-colors flex items-center gap-1">Chain Converter <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></a></div></header> <!></div>');function qe($t,it){oe(it,!1);const nt=l(),F=l(),q=l(),G=l(),vt=l(),J=l(),Q=l(),c=l();let S=l([]),U=l([]),dt=l(!0),_=l(""),B=l(1),L=l(new Date().toISOString().split("T")[0]),g=l(!1),j=l({}),N=l(!1),O=l(""),M=l(!1);function ct(e){return t(nt).has(`${e.provider}:${e.provider_symbol}`)}se(async()=>{try{const[e,v]=await Promise.all([ge(),he()]);r(S,e),r(U,v);const h=new Set(v.map(y=>`${y.provider}:${y.provider_symbol}`)),w=e.find(y=>h.has(`${y.provider}:${y.provider_symbol}`));w&&(r(_,w.symbol),await H())}catch(e){console.error("Failed to load data",e)}finally{r(dt,!1)}});async function H(){if(t(_)){r(N,!0),r(O,""),r(j,{});try{const e=await ye(t(L),t(_),"all");"rates"in e?r(j,e.rates):r(j,{default:e.rate})}catch(e){r(O,e instanceof Error?e.message:"Conversion failed")}finally{r(N,!1)}}}function kt(){H()}function St(){H()}function jt(){r(M,!t(M))}function Dt(e){r(L,e.detail),r(M,!1),St()}function Rt(){r(g,!t(g))}function ut(e){return Ce(e,t(vt))}function zt(e,v,h){if(e===null)return"N/A";const w=h?v/e:v*e;return we(w,t(Q))}function Ft(e){const v=e.target;v.value=v.value.replace(/[^0-9.]/g,""),r(B,parseFloat(v.value)||0)}function Mt(e){if(e.includes("/")){const[v,h]=e.split("/");return{from:v,to:h}}return e.length===6?{from:e.slice(0,3),to:e.slice(3)}:{from:e,to:"?"}}$(()=>t(U),()=>{r(nt,new Set(t(U).map(e=>`${e.provider}:${e.provider_symbol}`)))}),$(()=>t(S),()=>{r(F,t(S).filter(e=>ct(e)))}),$(()=>t(S),()=>{r(q,t(S).filter(e=>!ct(e)))}),$(()=>(t(S),t(_)),()=>{r(G,t(S).find(e=>e.symbol===t(_)))}),$(()=>t(G),()=>{r(vt,t(G)?.type==="crypto"?"crypto":"forex")}),$(()=>t(_),()=>{r(c,Mt(t(_)))}),$(()=>(t(g),t(c)),()=>{r(J,t(g)?t(c).to:t(c).from)}),$(()=>(t(g),t(c)),()=>{r(Q,t(g)?t(c).from:t(c).to)}),le(),re();var W=Pe();R("click",ne,()=>r(M,!1));var Pt=d(o(W),2);{var Vt=e=>{var v=$e();m(e,v)},At=e=>{var v=Me(),h=o(v),w=o(h),y=o(w),Bt=o(y);a(y);var ft=d(y,2),I=o(ft);me(I);var mt=d(I,2),Lt=o(mt,!0);a(mt),a(ft),a(w);var X=d(w,2),Nt=o(X);a(X);var Y=d(X,2),K=d(o(Y),2);k(()=>{t(_),ve(()=>{t(F),t(q)})});var pt=o(K);{var Ot=i=>{var s=Se();st(s,5,()=>t(F),lt,(f,u)=>{var p=ke(),P=o(p);a(p);var V={};k(()=>{b(P,`${t(u),n(()=>t(u).symbol)??""} - ${t(u),n(()=>t(u).name)??""}`),V!==(V=(t(u),n(()=>t(u).symbol)))&&(p.value=(p.__value=(t(u),n(()=>t(u).symbol)))??"")}),m(f,p)}),a(s),m(i,s)};z(pt,i=>{t(F),n(()=>t(F).length>0)&&i(Ot)})}var bt=d(pt);st(bt,5,()=>t(q),lt,(i,s)=>{var f=je(),u=o(f);a(f);var p={};k(()=>{b(u,`${t(s),n(()=>t(s).symbol)??""} - ${t(s),n(()=>t(s).name)??""}`),p!==(p=(t(s),n(()=>t(s).symbol)))&&(f.value=(f.__value=(t(s),n(()=>t(s).symbol)))??"")}),m(i,f)}),a(bt),a(K),a(Y);var Z=d(Y,2),T=d(o(Z),2),_t=o(T),Ht=o(_t,!0);a(_t),de(2),a(T);var It=d(T,2);{var Kt=i=>{var s=De(),f=o(s);_e(f,{get selectedDate(){return t(L)},$$events:{change:Dt}}),a(s),R("click",s,Ct(function(u){xe.call(this,it,u)})),m(i,s)};z(It,i=>{t(M)&&i(Kt)})}a(Z);var E=d(Z,2),Tt=o(E,!0);a(E),a(h);var Et=d(h,2);{var qt=i=>{var s=Re(),f=o(s,!0);a(s),k(()=>b(f,t(O))),m(i,s)},Gt=i=>{var s=ae(),f=ce(s);{var u=p=>{var P=Fe(),V=d(o(P),2);st(V,5,()=>(t(j),n(()=>Object.entries(t(j)))),lt,(Jt,Qt)=>{var xt=ue(()=>fe(t(Qt),2));let Ut=()=>t(xt)[0],D=()=>t(xt)[1];var tt=ze(),et=o(tt),at=o(et),Wt=o(at,!0);a(at);var gt=d(at,2),Xt=o(gt);{var Yt=C=>{var A=wt();k(ot=>b(A,`1 ${t(c),n(()=>t(c).to)??""} = ${ot??""} ${t(c),n(()=>t(c).from)??""}`),[()=>(D(),n(()=>D()!==null?ut(1/D()):"N/A"))]),m(C,A)},Zt=C=>{var A=wt();k(ot=>b(A,`1 ${t(c),n(()=>t(c).from)??""} = ${ot??""} ${t(c),n(()=>t(c).to)??""}`),[()=>(D(),n(()=>ut(D())))]),m(C,A)};z(Xt,C=>{t(g)?C(Yt):C(Zt,!1)})}a(gt),a(et);var ht=d(et,2),rt=o(ht),te=o(rt,!0);a(rt);var yt=d(rt,2),ee=o(yt,!0);a(yt),a(ht),a(tt),k(C=>{b(Wt,Ut()),b(te,C),b(ee,t(Q))},[()=>(D(),t(B),t(g),n(()=>zt(D(),t(B),t(g))))]),m(Jt,tt)}),a(V),a(P),m(p,P)};z(f,p=>{t(j),n(()=>Object.keys(t(j)).length>0)&&p(u)},!0)}m(i,s)};z(Et,i=>{t(O)?i(qt):i(Gt,!1)})}a(v),k(()=>{b(Bt,`Amount in ${t(J)??""}`),pe(I,t(B)),b(Lt,t(J)),b(Ht,t(L)),E.disabled=t(N)||!t(_),b(Tt,t(N)?"Converting...":"Convert")}),R("input",I,Ft),R("click",Nt,Rt),be(K,()=>t(_),i=>r(_,i)),R("change",K,kt),R("click",T,Ct(jt)),R("click",E,H),m(e,v)};z(Pt,e=>{t(dt)?e(Vt):e(At,!1)})}a(W),m($t,W),ie()}export{qe as component};
