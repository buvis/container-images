import{e as K,a as m,f as w,s as d,c as Se}from"../chunks/BGC_O7Cu.js";import{i as sa}from"../chunks/CxezgJRR.js";import{p as oa,m as p,o as la,l as B,a as ia,b as na,g as e,$ as va,s as i,d as o,c as t,r as a,t as h,i as I,u as g,z as da,f as Le}from"../chunks/D8SkQY_2.js";import{i as z}from"../chunks/CCe7VU-t.js";import{e as Z,i as O}from"../chunks/BM-OiPN0.js";import{r as ca,a as ua,s as tt}from"../chunks/1CmXKqvd.js";import{b as Y}from"../chunks/BKSPwKdY.js";import{s as at}from"../chunks/CdEA5IGF.js";import{C as pa,b as fa}from"../chunks/hMDAKPhK.js";import{b as _a,h as ma,j as xa}from"../chunks/sCxhiejC.js";import{i as ba,b as rt,a as ga}from"../chunks/BcTIPSpL.js";var ha=w('<div class="max-w-2xl mx-auto"><div class="bg-slate-900 p-8 rounded-xl border border-slate-800 animate-pulse h-96"></div></div>'),wa=w("<option> </option>"),ya=w("<option> </option>"),Ca=w("<option> </option>"),$a=w("<option>No provider available</option>"),ka=w("<option> </option>"),Pa=w("<option>No provider available</option>"),ja=w("<option> </option>"),Fa=w('<div class="absolute right-0 top-full mt-2 z-50 shadow-xl rounded-lg overflow-hidden"><!></div>'),Ra=w('<div class="bg-red-900/30 border border-red-800 text-red-400 p-4 rounded-lg"> </div>'),Sa=w('<span class="text-xs text-amber-500 ml-1"> </span>'),La=w('<span class="text-xs text-slate-600 ml-1"> </span>'),Ba=w('<span class="text-xs text-amber-500 ml-1"> </span>'),Da=w('<span class="text-xs text-slate-600 ml-1"> </span>'),Ma=w('<div class="bg-slate-900 p-6 rounded-xl border border-slate-800"><h2 class="text-sm font-medium text-slate-400 mb-4">Calculation Breakdown</h2> <div class="space-y-3 mb-6"><div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-lg"><div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-slate-500 uppercase w-12"> </span> <span class="text-slate-300"> </span> <span class="text-slate-500">=</span> <span class="text-white font-mono"> </span> <span class="text-cyan-400"> </span> <!></div></div> <div class="flex justify-center text-slate-500 text-xl">Ã—</div> <div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-lg"><div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-slate-500 uppercase w-12"> </span> <span class="text-slate-300"> </span> <span class="text-slate-500">=</span> <span class="text-white font-mono"> </span> <span class="text-slate-300"> </span> <!></div></div> <div class="flex justify-center text-slate-500 text-xl">=</div> <div class="flex items-center justify-between p-3 bg-slate-800 rounded-lg border border-slate-700"><div class="flex items-center gap-2"><span class="text-xs text-slate-500 uppercase w-12">rate</span> <span class="text-slate-300"> </span> <span class="text-slate-500">=</span> <span class="text-white font-mono font-bold"> </span> <span class="text-slate-300"> </span></div></div></div> <div class="border-t border-slate-800 pt-4"><div class="flex items-center justify-between"><div class="text-slate-400"> </div> <div class="text-right"><div class="text-3xl font-bold text-white font-mono"> </div> <div class="text-sm text-slate-500"> </div></div></div></div></div>'),Ta=w('<div class="max-w-2xl mx-auto space-y-6"><div class="bg-slate-900 p-6 rounded-xl border border-slate-800"><div class="grid grid-cols-5 gap-2 mb-6 items-end"><div class="col-span-1"><label for="from" class="block text-xs font-medium text-slate-500 mb-1">From</label> <select id="from" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm focus:outline-none focus:border-slate-500"><option>--</option><!></select></div> <div class="flex justify-center items-center text-slate-600 pb-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div> <div class="col-span-1"><label for="intermediate" class="block text-xs font-medium text-slate-500 mb-1">Via</label> <select id="intermediate" class="w-full px-3 py-2 bg-slate-800 border border-cyan-700 rounded-lg text-cyan-400 text-sm focus:outline-none focus:border-cyan-500"><option>--</option><!></select></div> <div class="flex justify-center items-center text-slate-600 pb-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div> <div class="col-span-1"><label for="to" class="block text-xs font-medium text-slate-500 mb-1">To</label> <select id="to" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm focus:outline-none focus:border-slate-500"><option>--</option><!></select></div></div> <div class="grid grid-cols-2 gap-4 mb-6"><div><label for="fromProvider" class="block text-xs font-medium text-slate-500 mb-1"> </label> <select id="fromProvider" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm focus:outline-none focus:border-slate-500 disabled:opacity-50"><!></select></div> <div><label for="toProvider" class="block text-xs font-medium text-slate-500 mb-1"> </label> <select id="toProvider" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm focus:outline-none focus:border-slate-500 disabled:opacity-50"><!></select></div></div> <div class="grid grid-cols-2 gap-4 mb-6"><div><label for="amount" class="block text-xs font-medium text-slate-500 mb-1"> </label> <div class="relative"><input id="amount" type="text" inputmode="decimal" class="w-full px-3 py-2 pr-12 bg-slate-800 border border-slate-700 rounded-lg text-white text-lg font-mono focus:outline-none focus:border-slate-500"/> <span class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 font-mono text-sm"> </span></div></div> <div class="relative"><label for="date" class="block text-xs font-medium text-slate-500 mb-1">Date</label> <button type="button" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-left focus:outline-none focus:border-slate-500 flex items-center justify-between"><span> </span> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></button> <!></div></div> <button class="w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-slate-700 disabled:text-slate-500 text-white font-medium rounded-lg transition-colors"> </button></div> <!></div>'),za=w('<div class="bg-slate-950 text-slate-200 p-6"><header class="mb-8"><h1 class="text-3xl font-bold text-white">Chain Converter</h1></header> <!></div>');function Ga(st,Be){oa(Be,!1);const F=p(),$=p(),k=p(),De=p(),te=p(),Me=p(),Te=p(),ze=p();let V=p([]),ae=p([]),Ne=p(!0),f=p(""),u=p(""),b=p(""),R=p(""),S=p(""),A=p(1),G=p(new Date().toISOString().split("T")[0]),E=p(!1);function ot(){i(E,!e(E))}function lt(r){i(G,r.detail),i(E,!1)}let n=p(null),J=p(!1),H=p("");function Ue(r,v){if(!r||!v)return[];const L=`${r}${v}`,N=`${v}${r}`,T=new Set;for(const j of e(V))(j.symbol===L||j.symbol===N)&&T.add(j.provider);return[...T].sort()}function Ve(r,v,L){const N=`${r}${v}`,T=`${v}${r}`;for(const j of e(V))if((j.symbol===N||j.symbol===T)&&j.provider===L&&e(De).has(`${L}:${j.provider_symbol}`))return!0;return!1}function it(r){if(r.includes("/")){const[v,L]=r.split("/");return{from:v,to:L}}return r.length===6?{from:r.slice(0,3),to:r.slice(3)}:{from:r,to:"?"}}la(async()=>{try{const[r,v]=await Promise.all([_a(),ma()]);i(V,r),i(ae,v),e(F).includes("BTC")&&i(f,"BTC"),e(F).includes("EUR")&&i(u,"EUR"),e(F).includes("CZK")&&i(b,"CZK")}catch(r){console.error("Failed to load data",r)}finally{i(Ne,!1)}});async function nt(){if(!e(te)){i(H,"Please select all currencies and providers");return}i(J,!0),i(H,""),i(n,null);try{i(n,await xa(e(G),e(f),e(u),e(b),e(R),e(S)))}catch(r){i(H,r instanceof Error?r.message:"Conversion failed")}finally{i(J,!1)}}function vt(r){return rt(r,e(Me))}function dt(r){return rt(r,"forex")}function ct(r,v){return r===null?"N/A":ga(v*r,e(b))}function ut(r){const v=r.target;v.value=v.value.replace(/[^0-9.]/g,""),i(A,parseFloat(v.value)||0)}function pt(r){if(r===null)return"N/A";const v=r>1e3?2:r<1e-4?8:4;return r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:v})}B(()=>e(V),()=>{i(F,[...new Set(e(V).flatMap(r=>{const v=it(r.symbol);return[v.from,v.to]}))].sort())}),B(()=>(e(f),e(u)),()=>{i($,Ue(e(f),e(u)))}),B(()=>(e(u),e(b)),()=>{i(k,Ue(e(u),e(b)))}),B(()=>e(ae),()=>{i(De,new Set(e(ae).map(r=>`${r.provider}:${r.provider_symbol}`)))}),B(()=>(e($),e(R),e(f),e(u)),()=>{if(e($).length>0&&!e($).includes(e(R))){const r=e($).find(v=>Ve(e(f),e(u),v));i(R,r||e($)[0])}e($).length===0&&i(R,"")}),B(()=>(e(k),e(S),e(u),e(b)),()=>{if(e(k).length>0&&!e(k).includes(e(S))){const r=e(k).find(v=>Ve(e(u),e(b),v));i(S,r||e(k)[0])}e(k).length===0&&i(S,"")}),B(()=>(e(f),e(u),e(b),e(R),e(S)),()=>{i(te,e(f)&&e(u)&&e(b)&&e(R)&&e(S))}),B(()=>e(f),()=>{i(Me,ba(e(f))?"crypto":"forex")}),B(()=>(e(f),e(u)),()=>{i(Te,e(f)&&e(u)?`${e(f)}/${e(u)}`:"---")}),B(()=>(e(u),e(b)),()=>{i(ze,e(u)&&e(b)?`${e(u)}/${e(b)}`:"---")}),ia(),sa();var re=za();K("click",va,()=>i(E,!1));var ft=o(t(re),2);{var _t=r=>{var v=ha();m(r,v)},mt=r=>{var v=Ta(),L=t(v),N=t(L),T=t(N),j=o(t(T),2);h(()=>{e(f),I(()=>{e(F)})});var se=t(j);se.value=se.__value="";var xt=o(se);Z(xt,1,()=>e(F),O,(s,l)=>{var c=wa(),P=t(c,!0);a(c);var _={};h(()=>{d(P,e(l)),_!==(_=e(l))&&(c.value=(c.__value=e(l))??"")}),m(s,c)}),a(j),a(T);var oe=o(T,4),le=o(t(oe),2);h(()=>{e(u),I(()=>{e(F)})});var ie=t(le);ie.value=ie.__value="";var bt=o(ie);Z(bt,1,()=>e(F),O,(s,l)=>{var c=ya(),P=t(c,!0);a(c);var _={};h(()=>{d(P,e(l)),_!==(_=e(l))&&(c.value=(c.__value=e(l))??"")}),m(s,c)}),a(le),a(oe);var Ae=o(oe,4),ne=o(t(Ae),2);h(()=>{e(b),I(()=>{e(F)})});var ve=t(ne);ve.value=ve.__value="";var gt=o(ve);Z(gt,1,()=>e(F),O,(s,l)=>{var c=Ca(),P=t(c,!0);a(c);var _={};h(()=>{d(P,e(l)),_!==(_=e(l))&&(c.value=(c.__value=e(l))??"")}),m(s,c)}),a(ne),a(Ae),a(N);var de=o(N,2),ce=t(de),ue=t(ce),ht=t(ue);a(ue);var Q=o(ue,2);h(()=>{e(R),I(()=>{e($)})});var wt=t(Q);{var yt=s=>{var l=$a();l.value=l.__value="",m(s,l)},Ct=s=>{var l=Se(),c=Le(l);Z(c,1,()=>e($),O,(P,_)=>{var y=ka(),U=t(y,!0);a(y);var D={};h(()=>{d(U,e(_)),D!==(D=e(_))&&(y.value=(y.__value=e(_))??"")}),m(P,y)}),m(s,l)};z(wt,s=>{e($),g(()=>e($).length===0)?s(yt):s(Ct,!1)})}a(Q),a(ce);var Ee=o(ce,2),pe=t(Ee),$t=t(pe);a(pe);var W=o(pe,2);h(()=>{e(S),I(()=>{e(k)})});var kt=t(W);{var Pt=s=>{var l=Pa();l.value=l.__value="",m(s,l)},jt=s=>{var l=Se(),c=Le(l);Z(c,1,()=>e(k),O,(P,_)=>{var y=ja(),U=t(y,!0);a(y);var D={};h(()=>{d(U,e(_)),D!==(D=e(_))&&(y.value=(y.__value=e(_))??"")}),m(P,y)}),m(s,l)};z(kt,s=>{e(k),g(()=>e(k).length===0)?s(Pt):s(jt,!1)})}a(W),a(Ee),a(de);var fe=o(de,2),_e=t(fe),me=t(_e),Ft=t(me);a(me);var He=o(me,2),X=t(He);ca(X);var Ke=o(X,2),Rt=t(Ke,!0);a(Ke),a(He),a(_e);var Ie=o(_e,2),q=o(t(Ie),2),Ze=t(q),St=t(Ze,!0);a(Ze),da(2),a(q);var Lt=o(q,2);{var Bt=s=>{var l=Fa(),c=t(l);pa(c,{get selectedDate(){return e(G)},$$events:{change:lt}}),a(l),K("click",l,at(function(P){fa.call(this,Be,P)})),m(s,l)};z(Lt,s=>{e(E)&&s(Bt)})}a(Ie),a(fe);var ee=o(fe,2),Dt=t(ee,!0);a(ee),a(L);var Mt=o(L,2);{var Tt=s=>{var l=Ra(),c=t(l,!0);a(l),h(()=>d(c,e(H))),m(s,l)},zt=s=>{var l=Se(),c=Le(l);{var P=_=>{var y=Ma(),U=o(t(y),2),D=t(U),Oe=t(D),xe=t(Oe),Nt=t(xe,!0);a(xe);var be=o(xe,2),Ut=t(be);a(be);var ge=o(be,4),Vt=t(ge,!0);a(ge);var he=o(ge,2),At=t(he,!0);a(he);var Et=o(he,2);{var Ht=C=>{var x=Sa(),M=t(x);a(x),h(()=>{tt(x,"title",`Using inverted rate from ${e(n),g(()=>e(n).from_symbol)??""}`),d(M,`(1/${e(n),g(()=>e(n).from_symbol)??""})`)}),m(C,x)},Kt=C=>{var x=La(),M=t(x);a(x),h(()=>d(M,`(${e(n),g(()=>e(n).from_symbol)??""})`)),m(C,x)};z(Et,C=>{e(n),g(()=>e(n).from_inverted)?C(Ht):C(Kt,!1)})}a(Oe),a(D);var we=o(D,4),Ye=t(we),ye=t(Ye),It=t(ye,!0);a(ye);var Ce=o(ye,2),Zt=t(Ce);a(Ce);var $e=o(Ce,4),Ot=t($e,!0);a($e);var ke=o($e,2),Yt=t(ke,!0);a(ke);var Gt=o(ke,2);{var Jt=C=>{var x=Ba(),M=t(x);a(x),h(()=>{tt(x,"title",`Using inverted rate from ${e(n),g(()=>e(n).to_symbol)??""}`),d(M,`(1/${e(n),g(()=>e(n).to_symbol)??""})`)}),m(C,x)},Qt=C=>{var x=Da(),M=t(x);a(x),h(()=>d(M,`(${e(n),g(()=>e(n).to_symbol)??""})`)),m(C,x)};z(Gt,C=>{e(n),g(()=>e(n).to_inverted)?C(Jt):C(Qt,!1)})}a(Ye),a(we);var Ge=o(we,4),Je=t(Ge),Pe=o(t(Je),2),Wt=t(Pe);a(Pe);var je=o(Pe,4),Xt=t(je,!0);a(je);var Qe=o(je,2),qt=t(Qe,!0);a(Qe),a(Je),a(Ge),a(U);var We=o(U,2),Xe=t(We),Fe=t(Xe),ea=t(Fe);a(Fe);var qe=o(Fe,2),Re=t(qe),ta=t(Re,!0);a(Re);var et=o(Re,2),aa=t(et,!0);a(et),a(qe),a(Xe),a(We),a(y),h((C,x,M,ra)=>{d(Nt,(e(n),g(()=>e(n).from_provider))),d(Ut,`1 ${e(f)??""}`),d(Vt,C),d(At,e(u)),d(It,(e(n),g(()=>e(n).to_provider))),d(Zt,`1 ${e(u)??""}`),d(Ot,x),d(Yt,e(b)),d(Wt,`1 ${e(f)??""}`),d(Xt,M),d(qt,e(b)),d(ea,`Your ${e(A)??""} ${e(f)??""}`),d(ta,ra),d(aa,e(b))},[()=>(e(n),g(()=>vt(e(n).from_rate))),()=>(e(n),g(()=>dt(e(n).to_rate))),()=>(e(n),g(()=>pt(e(n).combined_rate))),()=>(e(n),e(A),g(()=>ct(e(n).combined_rate,e(A))))]),m(_,y)};z(c,_=>{e(n)&&_(P)},!0)}m(s,l)};z(Mt,s=>{e(H)?s(Tt):s(zt,!1)})}a(v),h(()=>{d(ht,`${e(Te)??""} provider`),Q.disabled=(e($),g(()=>e($).length===0)),d($t,`${e(ze)??""} provider`),W.disabled=(e(k),g(()=>e(k).length===0)),d(Ft,`Amount in ${(e(f)||"---")??""}`),ua(X,e(A)),d(Rt,e(f)||"---"),d(St,e(G)),ee.disabled=e(J)||!e(te),d(Dt,e(J)?"Converting...":"Convert")}),Y(j,()=>e(f),s=>i(f,s)),Y(le,()=>e(u),s=>i(u,s)),Y(ne,()=>e(b),s=>i(b,s)),Y(Q,()=>e(R),s=>i(R,s)),Y(W,()=>e(S),s=>i(S,s)),K("input",X,ut),K("click",q,at(ot)),K("click",ee,nt),m(r,v)};z(ft,r=>{e(Ne)?r(_t):r(mt,!1)})}a(re),m(st,re),na()}export{Ga as component};
